# Selective Enhancement based on Indices - Script

[See Documentation on Sentinel-Hub custom scripts ](https://custom-scripts.sentinel-hub.com/sentinel-2/selective_enhancement_based_on_indices/)  

[Show](script.js) script or [download](script.js) it


## General description of the script
Interactive enhancement dual mask to alternate selective treatment of features, like Land x Water or Snow or Vegetation, based respectively on NDWI, NDSI and NDVI [indices](https://custom-scripts.sentinel-hub.com/#sentinel-2), for Sentinel-2 images.  
  
## Author of the script
SÃ©rgio A. J. Volkmer [(Twitter)](https://twitter.com/sergioajv1)

## Detailed description

**Scripts applicability:**  
<sub>The objective of this script is to help on selectively enhancing of different classes of indexed features in images. In most occasions a single compostion of band, or luminosity adjustments, does not fit to all features of an image. Actually, when enhancing some features, others oftenly fall negativelly influenced. For example, this may happen when enhancing bare soil, geology and vegetation diferentiations using SWIR B12, B11, as RED, causing water to loose differentiation of turbidity that B04 Natural Red can detect very well. This SWIR effect was the case that can be seen in the example of **Picture 1 below**. Also when dealing with very different exigencies for luminosity adjustement, like between soil and snow. So strategically treating both separatelly may help to preserve such kind of particular details of each group of features. This script also aims to be didacticaly clear, simple and easy to manipulate, to be understood by begginners, since it's recommended user actions on adjusting parameters (even though parameters have default presets).</sub>  

**False detection problems:**  
<sub>It was found that clouds over water may be not well selected when using NDWI, some falling apart from water, others keeping on water's group of selection. It can't be provided just one single stablished enhancement adjust to fitting all places, all situations. Limit values of Indices, as well compositons of bands, may be adjusted to avoid affect undesirable features.</sub> 

**How the script works:**  
<sub>This script discriminates images in two opposite group of features, according to the limit value of selected remote sensing indices (NDWI,NDVI,NDSI; eventually others may be added to the list). This limit separates images in two classes of features, each group being treated separately, like a selection mask, i.e., verse and inverse selection areas of the same limit value, both summed fitting the whole image area.  
Then, for each selection group, it applies contrast stretch and saturation separately. Each selected area can be individualy blacked out, for exclusive visualization of the opposite selection. Also each one can be fully desaturated to monochromatic. This can be useful as another selective enhancement resource. Parameters for contrast, saturation, index limit and band compositions may be manually adjusted.</sub>  

## Description of representative images
  
<sub>Five pictured cases below:</sub>  
  
<sub>**1) Visualization of BRAZIL, Lagoa dos Patos, RS dry season 2020-01-10:**  
**LEFT:** Using separated enhancement for land and water:  
-Land, using "NATURAL_SWIR" `[(B04*2.6+B12*0.8), (B03*3.0+B08*0.5), (B02*3.0)]`, enhances both vegetation, farmlands, bare soil;  
-Water, using "NATURAL_REDGE" `[(B04*4.0), (B03*2.8+B06*1.5), (B02*3.5)]`, enhances turbidity moistures and algae in it;   
**RIGHT:** Using only NATURAL_SWIR for both land and water: enhances land, but loses differentiation of water, turbidity moistures, algae.  
[See it in EO-Browser](https://apps.sentinel-hub.com/eo-browser/?lat=-30.896&lng=-50.764&zoom=9&time=2020-01-10&preset=CUSTOM&datasource=Sentinel-2%20L1C&layers=B03,B02,B03&evalscript=LyoKIlNlbGVjdGl2ZSBFbmhhbmNlbWVudCBiYXNlZCBvbiBJbmRpY2VzIgpJbnRlcmFjdGl2ZSBlbmhhbmNlbWVudCBtYXNrcyBmb3IgYWxlcm5hdGUgc2VsZWN0aW9uIG9mIExhbmQgeCBXYXRlci9Tbm93L1ZlZ2V0YXRpb24sIGJhc2VkIG9uIE5EV0ksIE5EU0kgYW5kIE5EVkkgSW5kaWNlcywgZm9yIFNlbnRpbmVsLTIgCihzZWUgSW5kaWNlcyBhdCAgaHR0cHM6Ly9jdXN0b20tc2NyaXB0cy5zZW50aW5lbC1odWIuY29tLyNzZW50aW5lbC0yKQpCeSBT6XJnaW8gQS4gSi4gVm9sa21lciAoaHR0cHM6Ly90d2l0dGVyLmNvbS9zZXJnaW9hanYxKSAqIENDIEJZIDQuMCBJbnRlcm5hdGlvbmFsIC0gaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzQuMC8KUmVmZXJlbmNlczogClNlbGVjdGl2ZSB0cmVhdG1lbnQgbG9naWNzIGJhc2VkIG9uIFNpbW9uIEdhc2NvaW4ncyAiQmV0dGVyIHNub3cgdmlzdWFsaXNhdGlvbiB1c2luZyBORFNJIiAtIGh0dHBzOi8vd3d3LnNlbnRpbmVsLWh1Yi5jb20vY29udGVzdApFbmhhbmNlbWVudCBmdW5jdGlvbnMgYmFzZWQgb24gUGllcnJlIE1hcmt1c2UncyAiV2lsZGZpcmUgdmlzdWFsaXphdGlvbiIgLSBodHRwczovL2N1c3RvbS1zY3JpcHRzLnNlbnRpbmVsLWh1Yi5jb20vc2VudGluZWwtMi9tYXJrdXNlX2ZpcmUvCk5PVEVTIGZvciBiZWdnaW5lcnMgKGF1dGhvciB0b28pOiBUcnkgdG8gY2hhbmdlIHZhbHVlcyBhIGJpdCB0byBmaXQgYmV0dGVyIGZvciBkaWZmZXJlbnQgc2l0dWF0aW9uczsgc2VlIGNvbW1lbnRzIGFmdGVyICIvLyIgaWYgaXQgaGVscHMuIAoqLwovLyBFTkhBTkNFTUVOVCBGVU5DVElPTlM6CmZ1bmN0aW9uIGEoYSwgYikge3JldHVybiBhICsgYn07Ci8vIEZVTkNUSU9OIEZPUiBDT05UUkFTVDoKZnVuY3Rpb24gc3RyZXRjaCh2YWwsIG1pbiwgbWF4KSB7cmV0dXJuICh2YWwgLSBtaW4pIC8gKG1heCAtIG1pbik7fSAKLy8gRlVOQ1RJT04gRk9SIFNBVFVSQVRJT04gKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6CmZ1bmN0aW9uIHNhdEVuaF9WKHJnYkFycikgewogICAgdmFyIGF2ZyA9IHJnYkFyci5yZWR1Y2UoKGEsIGIpID0%2BIGEgKyBiLCAwKSAvIHJnYkFyci5sZW5ndGg7CiAgICByZXR1cm4gcmdiQXJyLm1hcChhID0%2BIGF2ZyAqICgxIC0gU0FUVV9WKSArIGEgKiBTQVRVX1YpOyB9CQpmdW5jdGlvbiBzYXRFbmhfSShyZ2JBcnIpIHsKICAgIHZhciBhdmcgPSByZ2JBcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyByZ2JBcnIubGVuZ3RoOwogICAgcmV0dXJuIHJnYkFyci5tYXAoYSA9PiBhdmcgKiAoMSAtIFNBVFVfSSkgKyBhICogU0FUVV9JKTsgfSAKLy8gRlVOQ1RJT04gQ09OVFJBU1QgKyBTQVRVUkFUSU9OIChmb3IgVmVyc2UgYW5kIEludmVyc2UsIHNlcGFyYXRlbHkpOgpmdW5jdGlvbiBhcHBseUVuaF9WKGJBcnIpIHsKCXJldHVybiBzYXRFbmhfVihbc3RyZXRjaChiQXJyWzBdLCBTbWluViwgU21heFYpLCBzdHJldGNoKGJBcnJbMV0sIFNtaW5WLCBTbWF4ViksIHN0cmV0Y2goYkFyclsyXSwgU21pblYsIFNtYXhWKV0pOyB9CmZ1bmN0aW9uIGFwcGx5RW5oX0koYkFycikgewoJcmV0dXJuIHNhdEVuaF9JKFtzdHJldGNoKGJBcnJbMF0sIFNtaW5JLCBTbWF4SSksIHN0cmV0Y2goYkFyclsxXSwgU21pbkksIFNtYXhJKSwgc3RyZXRjaChiQXJyWzJdLCBTbWluSSwgU21heEkpXSk7IH0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gKlNFVFRJTkdTIEhFUkUqOiBTZWxlY3QgYWRqdXN0bWVudHMgKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6Ci8vIFNUUkVUQ0ggQ09OVFJBU1QgKG1pbi9tYXg6IFNoYWRvdy9MaWdodDsgZGVmYXVsdD0wLjAwLzEuMDA7IGJsYWNrb3V0LW1hc2sgPSAxLDEpOiAvLyBUSVA6IGF2b2lkIHRvbyBkaWZmZXJlbnQgY29udHJhc3QgZm9yIG1hc2tzCnZhciBTbWluViA9IDAuMDUgOyAvLyBTaGFkb3dzOiBEYXJrZW4gOiA%2BMCA7IExpZ2h0ZW4gPDAKdmFyIFNtYXhWID0gMS4wNSA7IC8vIExpZ2h0czogIERhcmtlbiA6ID4xIDsgTGlnaHRlbiA8MQp2YXIgU21pbkkgPSAwLjA1IDsgLy8gU2hhZG93czogRGFya2VuIDogPjAgOyBMaWdodGVuIDwwCnZhciBTbWF4SSA9IDEuMDUgOyAvLyBMaWdodHM6ICBEYXJrZW4gOiA%2BMSA7IExpZ2h0ZW4gPDEKLy8gU0FUVVJBVElPTjoKdmFyIFNBVFVfViA9IDEuMTAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKdmFyIFNBVFVfSSA9IDEuMTAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gSU5ERVg6IGNob29zZSAib25seSBvbmUiIGFzIFNFTEVDVElPTiBNQVNLIChhY3RpdmF0ZSBpdCByZW1vdmluZyBmaXJzdCBjb21tZW50IG91dCAiLy8iOyBkZWZhdWx0PU5EV0kyKToKLy92YXIgTkRTSSA9IChCMDMtQjExKS8oQjAzK0IxMSk7ICAvLyBEaXNjcmltaW5hdGVzIFdBVEVSJlNOT1cgeCBOT04tV0FURVI6IHN0YW5kYXJkIFNOT1cgfiA%2BIDAuNDIKLy92YXIgTkRWSSA9IChCMDgtQjA0KS8oQjA4K0IwNCk7ICAvLyBEaXNjcmltaW5hdGVzIFZFR0VUQVRJT04geCBOT04tVkVHOiB%2BIFdhdGVyPDAgU29pbCxTYW5kLFNub3csQ2xvdWRzPS0uMSwrLjEgTG93VmVnPS4yLC40IERlbnNlVmVnPi40CnZhciBORFdJMiA9IChCMDMtQjA4KS8oQjAzK0IwOCk7IC8vIERpc2NyaW1pbmF0ZXMgV0FURVIgeCBOT04tV0FURVI6IHN0YW5kYXJkIFdBVEVSIGxpbWl0IH4gPiAwLjMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQkFORCBDT01QT1NUSU9OUzogW1JFRCwgR1JFRU4sIEJMVUVdOyAobW9yZSBjdXN0b21pc2VkIGNvbXBvc3Rpb25zIGNhbiBiZSBhZGRlZCB0byBsaXN0IGJlbG93KSAvLyBFbmhhbmNlbWVudCBkZXNjcmlwdGlvbjoKLy8gUHJvcG9zZWQgZm9yIFZFUlNFIE1BU0sgKFdhdGVyL05EV0ksIFZlZ2V0YXRpb24vTkRWSSwgU25vdy9ORFNJKToKdmFyIE5BVFVSQUxfUkVER0UgPSBbKEIwNCo0LjApLCAoQjAzKjIuOCtCMDYqMS41KSwgKEIwMiozLjUpXTsgLy8gTmVhciBOYXR1cmFsOyB0dXJiaWRpdHkgYW5kIGFsZ2FlIFJlZEVkZ2UKLy92YXIgRkFMU0VDT0xPUl9OSVIgPSBbKEIwOCoyLjMpLCAoQjAzKjEuMCtCMDUqMi4wKSwgKEIwMioyLjcpXTsgLy8gQmx1aXNoIHdhdGVyIE5JUjsgYWxnYWUgUmVkRWRnZQovLyBQcm9wb3NlZCBmb3IgSU5WRVJTRSBNQVNLIChMQU5EKToKLy92YXIgTkFUVVJBTF9OSVIgPSBbKEIwNCozLjArQjA1KjEuMCksIChCMDMqMy4wK0IwOCoxLjApLCAoQjAyKjMuNSldIDsgLy8gTmVhciBOYXR1cmFsOyBWZWdldGF0aW9uIE5JUiAKdmFyIE5BVFVSQUxfU1dJUiA9IFsoQjA0KjIuNitCMTIqMC44KSwgKEIwMyozLjArQjA4KjAuNSksIChCMDIqMy4wKV0gOyAvLyBCYXJlIHNvaWwgU1dJUjsgVmVnZXRhdGlvbiBOSVIKLy92YXIgR0VPTE9HWV9TV0lSID0gWyhCMTIqMi4yKSwgKEIwNCoxLjQrQjA4KjEuMCksIChCMDIqMi41KV0gOyAvLyBHZW9sb2d5IFNXSVI7IFZlZ2V0YXRpb24gTklSCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFNFVCBCQU5EIENPTVBPU1RJT05TIChmb3IgZWFjaCBtYXNrOyBtYXkgdXNlIHNhbWUgQ09NUE8gZm9yIGJvdGgsIG9yIHN3aXRjaCBlYWNoIG90aGVyLCBhY2NvcmRpbmcgdG8gbmVjZXNzaXR5KTogCnZhciBNYXNrVkVSU0UgICA9IE5BVFVSQUxfUkVER0UgOyAvLyBDb3B5IGNvbXBvc2l0aW9uIGhlcmUKdmFyIE1hc2tJTlZFUlNFID0gTkFUVVJBTF9TV0lSIDsgIC8vIENvcHkgY29tcG9zaXRpb24gaGVyZQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp2YXIgRW5oVkVSU0UgICA9IGFwcGx5RW5oX1YoTWFza1ZFUlNFKSAgOyAvLyBEb24ndCBjaGFuZ2UgdGhpcwp2YXIgRW5oSU5WRVJTRSA9IGFwcGx5RW5oX0koTWFza0lOVkVSU0UpOyAvLyBEb24ndCBjaGFuZ2UgdGhpcwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBSRVRVUk5zIG9uIHNjcmVlbiBzZWxlY3RlZCBFTkhBTkNFTUVOVCwgYWNjb3JkaW5nIHRvIElOREVYRVMgZnJvbSBhYm92ZSBhbmQgaXRzIGxpbWl0IHZhbHVlcyBiZWxvdyAodXNlICJvbmx5IG9uZSIgYmVsb3c7IGRlZmF1bHQgTkRXSTIpOgovL3JldHVybiAoIE5EU0kgPiAwLjQyICkgPyBFbmhWRVJTRSA6IEVuaElOVkVSU0UgOyAvLyBGb3IgU05PV1kgYXJlYXMgb25seQovL3JldHVybiAoIE5EVkkgPiAwLjQgKSA%2FIEVuaFZFUlNFIDogRW5oSU5WRVJTRSA7IC8vIEZvciBWRUdFVEFUSU9OIGFyZWFzIG9ubHkKcmV0dXJuICggTkRXSTIgPiAwLjEgKSA%2FIEVuaFZFUlNFIDogRW5oSU5WRVJTRSA7IC8vIExBTkQgeCBXQVRFUjogbGltaXQgbG93ZXJlZCB0byB0YWtlIGNsb3VkcyB3LyB3YXRlcgovLw%3D%3D)</sub>  
  
![Selective Enhancement script over BRAZIL, Lagoa dos Patos](/fig/1.png)
  
  
<sub>**2) Visualization of BOLIVIA, Pucara de Oroncota 2019-11-02:**  
**LEFT:** Script highly enhances geology differentiation, while selectively enhancing waterways;  
**RIGHT:** True Color shows not much differentiation in geology itself, and with waterways, all in similar colors.  
[See it in EO-Browser](https://apps.sentinel-hub.com/eo-browser/?lat=-19.5349&lng=-64.8363&zoom=12&time=2019-11-02&preset=CUSTOM&datasource=Sentinel-2%20L1C&layers=B03,B02,B03&evalscript=LyoKIlNlbGVjdGl2ZSBFbmhhbmNlbWVudCBiYXNlZCBvbiBJbmRpY2VzIgpJbnRlcmFjdGl2ZSBlbmhhbmNlbWVudCBtYXNrcyBmb3IgYWxlcm5hdGUgc2VsZWN0aW9uIG9mIExhbmQgeCBXYXRlci9Tbm93L1ZlZ2V0YXRpb24sIGJhc2VkIG9uIE5EV0ksIE5EU0kgYW5kIE5EVkkgSW5kaWNlcywgZm9yIFNlbnRpbmVsLTIgCihzZWUgSW5kaWNlcyBhdCAgaHR0cHM6Ly9jdXN0b20tc2NyaXB0cy5zZW50aW5lbC1odWIuY29tLyNzZW50aW5lbC0yKQpCeSBT6XJnaW8gQS4gSi4gVm9sa21lciAoaHR0cHM6Ly90d2l0dGVyLmNvbS9zZXJnaW9hanYxKSAqIENDIEJZIDQuMCBJbnRlcm5hdGlvbmFsIC0gaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzQuMC8KUmVmZXJlbmNlczogClNlbGVjdGl2ZSB0cmVhdG1lbnQgbG9naWNzIGJhc2VkIG9uIFNpbW9uIEdhc2NvaW4ncyAiQmV0dGVyIHNub3cgdmlzdWFsaXNhdGlvbiB1c2luZyBORFNJIiAtIGh0dHBzOi8vd3d3LnNlbnRpbmVsLWh1Yi5jb20vY29udGVzdApFbmhhbmNlbWVudCBmdW5jdGlvbnMgYmFzZWQgb24gUGllcnJlIE1hcmt1c2UncyAiV2lsZGZpcmUgdmlzdWFsaXphdGlvbiIgLSBodHRwczovL2N1c3RvbS1zY3JpcHRzLnNlbnRpbmVsLWh1Yi5jb20vc2VudGluZWwtMi9tYXJrdXNlX2ZpcmUvCk5PVEVTIGZvciBiZWdnaW5lcnMgKGF1dGhvciB0b28pOiBUcnkgdG8gY2hhbmdlIHZhbHVlcyBhIGJpdCB0byBmaXQgYmV0dGVyIGZvciBkaWZmZXJlbnQgc2l0dWF0aW9uczsgc2VlIGNvbW1lbnRzIGFmdGVyICIvLyIgaWYgaXQgaGVscHMuIAoqLwovLyBFTkhBTkNFTUVOVCBGVU5DVElPTlM6CmZ1bmN0aW9uIGEoYSwgYikge3JldHVybiBhICsgYn07Ci8vIEZVTkNUSU9OIEZPUiBDT05UUkFTVDoKZnVuY3Rpb24gc3RyZXRjaCh2YWwsIG1pbiwgbWF4KSB7cmV0dXJuICh2YWwgLSBtaW4pIC8gKG1heCAtIG1pbik7fSAKLy8gRlVOQ1RJT04gRk9SIFNBVFVSQVRJT04gKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6CmZ1bmN0aW9uIHNhdEVuaF9WKHJnYkFycikgewogICAgdmFyIGF2ZyA9IHJnYkFyci5yZWR1Y2UoKGEsIGIpID0%2BIGEgKyBiLCAwKSAvIHJnYkFyci5sZW5ndGg7CiAgICByZXR1cm4gcmdiQXJyLm1hcChhID0%2BIGF2ZyAqICgxIC0gU0FUVV9WKSArIGEgKiBTQVRVX1YpOyB9CQpmdW5jdGlvbiBzYXRFbmhfSShyZ2JBcnIpIHsKICAgIHZhciBhdmcgPSByZ2JBcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyByZ2JBcnIubGVuZ3RoOwogICAgcmV0dXJuIHJnYkFyci5tYXAoYSA9PiBhdmcgKiAoMSAtIFNBVFVfSSkgKyBhICogU0FUVV9JKTsgfSAKLy8gRlVOQ1RJT04gQ09OVFJBU1QgKyBTQVRVUkFUSU9OIChmb3IgVmVyc2UgYW5kIEludmVyc2UsIHNlcGFyYXRlbHkpOgpmdW5jdGlvbiBhcHBseUVuaF9WKGJBcnIpIHsKCXJldHVybiBzYXRFbmhfVihbc3RyZXRjaChiQXJyWzBdLCBTbWluViwgU21heFYpLCBzdHJldGNoKGJBcnJbMV0sIFNtaW5WLCBTbWF4ViksIHN0cmV0Y2goYkFyclsyXSwgU21pblYsIFNtYXhWKV0pOyB9CmZ1bmN0aW9uIGFwcGx5RW5oX0koYkFycikgewoJcmV0dXJuIHNhdEVuaF9JKFtzdHJldGNoKGJBcnJbMF0sIFNtaW5JLCBTbWF4SSksIHN0cmV0Y2goYkFyclsxXSwgU21pbkksIFNtYXhJKSwgc3RyZXRjaChiQXJyWzJdLCBTbWluSSwgU21heEkpXSk7IH0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gKlNFVFRJTkdTIEhFUkUqOiBTZWxlY3QgYWRqdXN0bWVudHMgKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6Ci8vIFNUUkVUQ0ggQ09OVFJBU1QgKG1pbi9tYXg6IFNoYWRvdy9MaWdodDsgZGVmYXVsdD0wLjAwLzEuMDA7IGJsYWNrb3V0LW1hc2sgPSAxLDEpOiAvLyBUSVA6IGF2b2lkIHRvbyBkaWZmZXJlbnQgY29udHJhc3QgZm9yIG1hc2tzCnZhciBTbWluViA9IDAuMDUgOyAvLyBTaGFkb3dzOiBEYXJrZW4gOiA%2BMCA7IExpZ2h0ZW4gPDAKdmFyIFNtYXhWID0gMS4wNSA7IC8vIExpZ2h0czogIERhcmtlbiA6ID4xIDsgTGlnaHRlbiA8MQp2YXIgU21pbkkgPSAwLjA1IDsgLy8gU2hhZG93czogRGFya2VuIDogPjAgOyBMaWdodGVuIDwwCnZhciBTbWF4SSA9IDEuMDUgOyAvLyBMaWdodHM6ICBEYXJrZW4gOiA%2BMSA7IExpZ2h0ZW4gPDEKLy8gU0FUVVJBVElPTjoKdmFyIFNBVFVfViA9IDEuMTAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKdmFyIFNBVFVfSSA9IDEuMTAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gSU5ERVg6IGNob29zZSAib25seSBvbmUiIGFzIFNFTEVDVElPTiBNQVNLIChhY3RpdmF0ZSBpdCByZW1vdmluZyBmaXJzdCBjb21tZW50IG91dCAiLy8iOyBkZWZhdWx0PU5EV0kyKToKLy92YXIgTkRTSSA9IChCMDMtQjExKS8oQjAzK0IxMSk7ICAvLyBEaXNjcmltaW5hdGVzIFdBVEVSJlNOT1cgeCBOT04tV0FURVI6IHN0YW5kYXJkIFNOT1cgfiA%2BIDAuNDIKLy92YXIgTkRWSSA9IChCMDgtQjA0KS8oQjA4K0IwNCk7ICAvLyBEaXNjcmltaW5hdGVzIFZFR0VUQVRJT04geCBOT04tVkVHOiB%2BIFdhdGVyPDAgU29pbCxTYW5kLFNub3csQ2xvdWRzPS0uMSwrLjEgTG93VmVnPS4yLC40IERlbnNlVmVnPi40CnZhciBORFdJMiA9IChCMDMtQjA4KS8oQjAzK0IwOCk7IC8vIERpc2NyaW1pbmF0ZXMgV0FURVIgeCBOT04tV0FURVI6IHN0YW5kYXJkIFdBVEVSIGxpbWl0IH4gPiAwLjMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQkFORCBDT01QT1NUSU9OUzogW1JFRCwgR1JFRU4sIEJMVUVdOyAobW9yZSBjdXN0b21pc2VkIGNvbXBvc3Rpb25zIGNhbiBiZSBhZGRlZCB0byBsaXN0IGJlbG93KSAvLyBFbmhhbmNlbWVudCBkZXNjcmlwdGlvbjoKLy8gUHJvcG9zZWQgZm9yIFZFUlNFIE1BU0sgKFdhdGVyL05EV0ksIFZlZ2V0YXRpb24vTkRWSSwgU25vdy9ORFNJKToKdmFyIE5BVFVSQUxfUkVER0UgPSBbKEIwNCo0LjApLCAoQjAzKjIuOCtCMDYqMS41KSwgKEIwMiozLjUpXTsgLy8gTmVhciBOYXR1cmFsOyB0dXJiaWRpdHkgYW5kIGFsZ2FlIFJlZEVkZ2UKdmFyIEZBTFNFQ09MT1JfTklSID0gWyhCMDgqMi4zKSwgKEIwMyoxLjArQjA1KjIuMCksIChCMDIqMy41KV07IC8vIEJsdWlzaCB3YXRlciBOSVI7IGFsZ2FlIFJlZEVkZ2UKLy8gUHJvcG9zZWQgZm9yIElOVkVSU0UgTUFTSyAoTEFORCk6CnZhciBOQVRVUkFMX05JUiA9IFsoQjA0KjMuMCtCMDUqMS4wKSwgKEIwMyozLjArQjA4KjEuMCksIChCMDIqMy41KV0gOyAvLyBOZWFyIE5hdHVyYWw7IFZlZ2V0YXRpb24gTklSIAp2YXIgTkFUVVJBTF9TV0lSID0gWyhCMDQqMi42K0IxMiowLjgpLCAoQjAzKjMuMCtCMDgqMC41KSwgKEIwMiozLjApXSA7IC8vIEJhcmUgc29pbCBTV0lSOyBWZWdldGF0aW9uIE5JUgp2YXIgR0VPTE9HWV9TV0lSID0gWyhCMTIqMi4yKSwgKEIwNCoxLjQrQjA4KjEuMCksIChCMDIqMi41KV0gOyAvLyBHZW9sb2d5IFNXSVI7IFZlZ2V0YXRpb24gTklSCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFNFVCBCQU5EIENPTVBPU1RJT05TIChmb3IgZWFjaCBtYXNrOyBtYXkgdXNlIHNhbWUgQ09NUE8gZm9yIGJvdGgsIG9yIHN3aXRjaCBlYWNoIG90aGVyLCBhY2NvcmRpbmcgdG8gbmVjZXNzaXR5KTogCnZhciBNYXNrVkVSU0UgICA9IEZBTFNFQ09MT1JfTklSIDsgLy8gQ29weSBjb21wb3NpdGlvbiBoZXJlCnZhciBNYXNrSU5WRVJTRSA9IEdFT0xPR1lfU1dJUiA7ICAvLyBDb3B5IGNvbXBvc2l0aW9uIGhlcmUKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KdmFyIEVuaFZFUlNFICAgPSBhcHBseUVuaF9WKE1hc2tWRVJTRSkgIDsgLy8gRG9uJ3QgY2hhbmdlIHRoaXMKdmFyIEVuaElOVkVSU0UgPSBhcHBseUVuaF9JKE1hc2tJTlZFUlNFKTsgLy8gRG9uJ3QgY2hhbmdlIHRoaXMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gUkVUVVJOcyBvbiBzY3JlZW4gc2VsZWN0ZWQgRU5IQU5DRU1FTlQsIGFjY29yZGluZyB0byBJTkRFWEVTIGZyb20gYWJvdmUgYW5kIGl0cyBsaW1pdCB2YWx1ZXMgYmVsb3cgKHVzZSAib25seSBvbmUiIGJlbG93OyBkZWZhdWx0IE5EV0kyKToKLy9yZXR1cm4gKCBORFNJID4gMC40MiApID8gRW5oVkVSU0UgOiBFbmhJTlZFUlNFIDsgLy8gRm9yIFNOT1dZIGFyZWFzIG9ubHkKLy9yZXR1cm4gKCBORFZJID4gMC40ICkgPyBFbmhWRVJTRSA6IEVuaElOVkVSU0UgOyAvLyBGb3IgVkVHRVRBVElPTiBhcmVhcyBvbmx5CnJldHVybiAoIE5EV0kyID4gLTAuMSApID8gRW5oVkVSU0UgOiBFbmhJTlZFUlNFIDsgLy8gTEFORCB4IFdBVEVSOiBsaW1pdCBsb3dlcmVkIHRvIHRha2UgY2xvdWRzIHcvIHdhdGVyCi8v)</sub>  
  
![Selective Enhancement script over BOLIVIA, Pucara de Oroncota](/fig/2.png)
  
  
<sub>**3) Visualization of NAMIBIA, Aussenkehr Farm 2020-01-09:**  
**LEFT:** Enhanced geology differentiation, magmatic dikes (bluish-grey) cutting through different rock layers, while selectively enhancing farmlands;  
**RIGHT:** True Color, indiferentiated geology, magmatic dikes not visible.  
[See it in EO-Browser](https://apps.sentinel-hub.com/eo-browser/?lat=-28.52004&lng=17.27956&zoom=13&time=2020-01-09&preset=CUSTOM&datasource=Sentinel-2%20L1C&layers=B01,B02,B03&evalscript=LyoKIlNlbGVjdGl2ZSBFbmhhbmNlbWVudCBiYXNlZCBvbiBJbmRpY2VzIgpJbnRlcmFjdGl2ZSBlbmhhbmNlbWVudCBtYXNrcyBmb3IgYWxlcm5hdGUgc2VsZWN0aW9uIG9mIExhbmQgeCBXYXRlci9Tbm93L1ZlZ2V0YXRpb24sIGJhc2VkIG9uIE5EV0ksIE5EU0kgYW5kIE5EVkkgSW5kaWNlcywgZm9yIFNlbnRpbmVsLTIgCihzZWUgSW5kaWNlcyBhdCAgaHR0cHM6Ly9jdXN0b20tc2NyaXB0cy5zZW50aW5lbC1odWIuY29tLyNzZW50aW5lbC0yKQpCeSBT6XJnaW8gQS4gSi4gVm9sa21lciAoaHR0cHM6Ly90d2l0dGVyLmNvbS9zZXJnaW9hanYxKSAqIENDIEJZIDQuMCBJbnRlcm5hdGlvbmFsIC0gaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzQuMC8KUmVmZXJlbmNlczogClNlbGVjdGl2ZSB0cmVhdG1lbnQgbG9naWNzIGJhc2VkIG9uIFNpbW9uIEdhc2NvaW4ncyAiQmV0dGVyIHNub3cgdmlzdWFsaXNhdGlvbiB1c2luZyBORFNJIiAtIGh0dHBzOi8vd3d3LnNlbnRpbmVsLWh1Yi5jb20vY29udGVzdApFbmhhbmNlbWVudCBmdW5jdGlvbnMgYmFzZWQgb24gUGllcnJlIE1hcmt1c2UncyAiV2lsZGZpcmUgdmlzdWFsaXphdGlvbiIgLSBodHRwczovL2N1c3RvbS1zY3JpcHRzLnNlbnRpbmVsLWh1Yi5jb20vc2VudGluZWwtMi9tYXJrdXNlX2ZpcmUvCk5PVEVTIGZvciBiZWdnaW5lcnMgKGF1dGhvciB0b28pOiBUcnkgdG8gY2hhbmdlIHZhbHVlcyBhIGJpdCB0byBmaXQgYmV0dGVyIGZvciBkaWZmZXJlbnQgc2l0dWF0aW9uczsgc2VlIGNvbW1lbnRzIGFmdGVyICIvLyIgaWYgaXQgaGVscHMuIAoqLwovLyBFTkhBTkNFTUVOVCBGVU5DVElPTlM6CmZ1bmN0aW9uIGEoYSwgYikge3JldHVybiBhICsgYn07Ci8vIEZVTkNUSU9OIEZPUiBDT05UUkFTVDoKZnVuY3Rpb24gc3RyZXRjaCh2YWwsIG1pbiwgbWF4KSB7cmV0dXJuICh2YWwgLSBtaW4pIC8gKG1heCAtIG1pbik7fSAKLy8gRlVOQ1RJT04gRk9SIFNBVFVSQVRJT04gKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6CmZ1bmN0aW9uIHNhdEVuaF9WKHJnYkFycikgewogICAgdmFyIGF2ZyA9IHJnYkFyci5yZWR1Y2UoKGEsIGIpID0%2BIGEgKyBiLCAwKSAvIHJnYkFyci5sZW5ndGg7CiAgICByZXR1cm4gcmdiQXJyLm1hcChhID0%2BIGF2ZyAqICgxIC0gU0FUVV9WKSArIGEgKiBTQVRVX1YpOyB9CQpmdW5jdGlvbiBzYXRFbmhfSShyZ2JBcnIpIHsKICAgIHZhciBhdmcgPSByZ2JBcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyByZ2JBcnIubGVuZ3RoOwogICAgcmV0dXJuIHJnYkFyci5tYXAoYSA9PiBhdmcgKiAoMSAtIFNBVFVfSSkgKyBhICogU0FUVV9JKTsgfSAKLy8gRlVOQ1RJT04gQ09OVFJBU1QgKyBTQVRVUkFUSU9OIChmb3IgVmVyc2UgYW5kIEludmVyc2UsIHNlcGFyYXRlbHkpOgpmdW5jdGlvbiBhcHBseUVuaF9WKGJBcnIpIHsKCXJldHVybiBzYXRFbmhfVihbc3RyZXRjaChiQXJyWzBdLCBTbWluViwgU21heFYpLCBzdHJldGNoKGJBcnJbMV0sIFNtaW5WLCBTbWF4ViksIHN0cmV0Y2goYkFyclsyXSwgU21pblYsIFNtYXhWKV0pOyB9CmZ1bmN0aW9uIGFwcGx5RW5oX0koYkFycikgewoJcmV0dXJuIHNhdEVuaF9JKFtzdHJldGNoKGJBcnJbMF0sIFNtaW5JLCBTbWF4SSksIHN0cmV0Y2goYkFyclsxXSwgU21pbkksIFNtYXhJKSwgc3RyZXRjaChiQXJyWzJdLCBTbWluSSwgU21heEkpXSk7IH0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gKlNFVFRJTkdTIEhFUkUqOiBTZWxlY3QgYWRqdXN0bWVudHMgKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6Ci8vIFNUUkVUQ0ggQ09OVFJBU1QgKG1pbi9tYXg6IFNoYWRvdy9MaWdodDsgZGVmYXVsdD0wLjAwLzEuMDA7IGJsYWNrb3V0LW1hc2sgPSAxLDEpOiAvLyBUSVA6IGF2b2lkIHRvbyBkaWZmZXJlbnQgY29udHJhc3QgZm9yIG1hc2tzCnZhciBTbWluViA9IDAuMDAgOyAvLyBTaGFkb3dzOiBEYXJrZW4gOiA%2BMCA7IExpZ2h0ZW4gPDAKdmFyIFNtYXhWID0gMS4yMCA7IC8vIExpZ2h0czogIERhcmtlbiA6ID4xIDsgTGlnaHRlbiA8MQp2YXIgU21pbkkgPSAwLjEwIDsgLy8gU2hhZG93czogRGFya2VuIDogPjAgOyBMaWdodGVuIDwwCnZhciBTbWF4SSA9IDEuMjAgOyAvLyBMaWdodHM6ICBEYXJrZW4gOiA%2BMSA7IExpZ2h0ZW4gPDEKLy8gU0FUVVJBVElPTjoKdmFyIFNBVFVfViA9IDEuMDAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKdmFyIFNBVFVfSSA9IDEuNDAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gSU5ERVg6IGNob29zZSAib25seSBvbmUiIGFzIFNFTEVDVElPTiBNQVNLIChhY3RpdmF0ZSBpdCByZW1vdmluZyBmaXJzdCBjb21tZW50IG91dCAiLy8iOyBkZWZhdWx0PU5EV0kyKToKLy92YXIgTkRTSSA9IChCMDMtQjExKS8oQjAzK0IxMSk7ICAvLyBEaXNjcmltaW5hdGVzIFdBVEVSJlNOT1cgeCBOT04tV0FURVI6IHN0YW5kYXJkIFNOT1cgfiA%2BIDAuNDIKdmFyIE5EVkkgPSAoQjA4LUIwNCkvKEIwOCtCMDQpOyAgLy8gRGlzY3JpbWluYXRlcyBWRUdFVEFUSU9OIHggTk9OLVZFRzogfiBXYXRlcjwwIFNvaWwsU2FuZCxTbm93LENsb3Vkcz0tLjEsKy4xIExvd1ZlZz0uMiwuNCBEZW5zZVZlZz4uNAovL3ZhciBORFdJMiA9IChCMDMtQjA4KS8oQjAzK0IwOCk7IC8vIERpc2NyaW1pbmF0ZXMgV0FURVIgeCBOT04tV0FURVI6IHN0YW5kYXJkIFdBVEVSIGxpbWl0IH4gPiAwLjMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQkFORCBDT01QT1NUSU9OUzogW1JFRCwgR1JFRU4sIEJMVUVdOyAobW9yZSBjdXN0b21pc2VkIGNvbXBvc3Rpb25zIGNhbiBiZSBhZGRlZCB0byBsaXN0IGJlbG93KSAvLyBFbmhhbmNlbWVudCBkZXNjcmlwdGlvbjoKLy8gUHJvcG9zZWQgZm9yIFZFUlNFIE1BU0sgKFdhdGVyL05EV0ksIFZlZ2V0YXRpb24vTkRWSSwgU25vdy9ORFNJKToKdmFyIE5BVFVSQUxfUkVER0UgPSBbKEIwNCo0LjApLCAoQjAzKjEuOCtCMDYqMi41KSwgKEIwMiozLjUpXTsgLy8gTmVhciBOYXR1cmFsOyB0dXJiaWRpdHkgYW5kIGFsZ2FlIFJlZEVkZ2UKLy92YXIgRkFMU0VDT0xPUl9OSVIgPSBbKEIwOCoyLjMpLCAoQjAzKjEuMCtCMDUqMi4wKSwgKEIwMioyLjcpXTsgLy8gQmx1aXNoIHdhdGVyIE5JUjsgYWxnYWUgUmVkRWRnZQovLyBQcm9wb3NlZCBmb3IgSU5WRVJTRSBNQVNLIChMQU5EKToKLy92YXIgTkFUVVJBTF9OSVIgPSBbKEIwNCozLjArQjA1KjEuMCksIChCMDMqMy4wK0IwOCoxLjApLCAoQjAyKjMuNSldIDsgLy8gTmVhciBOYXR1cmFsOyBWZWdldGF0aW9uIE5JUiAKLy92YXIgTkFUVVJBTF9TV0lSID0gWyhCMDQqMi42K0IxMiowLjgpLCAoQjAzKjMuMCtCMDgqMC41KSwgKEIwMiozLjApXSA7IC8vIEJhcmUgc29pbCBTV0lSOyBWZWdldGF0aW9uIE5JUgp2YXIgR0VPTE9HWV9TV0lSID0gWyhCMTIqMi41KSwgKEIwNCoxLjYrQjA4KjEuMCksIChCMDIqMy44KV0gOyAvLyBHZW9sb2d5IFNXSVI7IFZlZ2V0YXRpb24gTklSCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFNFVCBCQU5EIENPTVBPU1RJT05TIChmb3IgZWFjaCBtYXNrOyBtYXkgdXNlIHNhbWUgQ09NUE8gZm9yIGJvdGgsIG9yIHN3aXRjaCBlYWNoIG90aGVyLCBhY2NvcmRpbmcgdG8gbmVjZXNzaXR5KTogCnZhciBNYXNrVkVSU0UgICA9IE5BVFVSQUxfUkVER0UgOyAvLyBDb3B5IGNvbXBvc2l0aW9uIGhlcmUKdmFyIE1hc2tJTlZFUlNFID0gR0VPTE9HWV9TV0lSIDsgIC8vIENvcHkgY29tcG9zaXRpb24gaGVyZQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp2YXIgRW5oVkVSU0UgICA9IGFwcGx5RW5oX1YoTWFza1ZFUlNFKSAgOyAvLyBEb24ndCBjaGFuZ2UgdGhpcwp2YXIgRW5oSU5WRVJTRSA9IGFwcGx5RW5oX0koTWFza0lOVkVSU0UpOyAvLyBEb24ndCBjaGFuZ2UgdGhpcwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBSRVRVUk5zIG9uIHNjcmVlbiBzZWxlY3RlZCBFTkhBTkNFTUVOVCwgYWNjb3JkaW5nIHRvIElOREVYRVMgZnJvbSBhYm92ZSBhbmQgaXRzIGxpbWl0IHZhbHVlcyBiZWxvdyAodXNlICJvbmx5IG9uZSIgYmVsb3c7IGRlZmF1bHQgTkRXSTIpOgovL3JldHVybiAoIE5EU0kgPiAwLjQyICkgPyBFbmhWRVJTRSA6IEVuaElOVkVSU0UgOyAvLyBGb3IgU05PV1kgYXJlYXMgb25seQpyZXR1cm4gKCBORFZJID4gMC40ICkgPyBFbmhWRVJTRSA6IEVuaElOVkVSU0UgOyAvLyBGb3IgVkVHRVRBVElPTiBhcmVhcyBvbmx5Ci8vcmV0dXJuICggTkRXSTIgPiAwLjEgKSA%2FIEVuaFZFUlNFIDogRW5oSU5WRVJTRSA7IC8vIExBTkQgeCBXQVRFUjogbGltaXQgbG93ZXJlZCB0byB0YWtlIGNsb3VkcyB3LyB3YXRlcgovLw%3D%3D)</sub>  
  
![Selective Enhancement script over NAMIBIA, Aussenkehr Farm](/fig/3.png)
  
  
<sub>**4) Visualization of RUSSIA, Severny Island on summer 2019-08-20:**  
**LEFT:** Different treatement of brightness and contrast for snow and glaciers versus land , vegetation and rocks;  
**RIGHT:** True Color highly oversaturated whitness of snow an glaciers and no differentiation of vegetation and soil.  
[See it in EO-Browser](https://apps.sentinel-hub.com/eo-browser/?lat=75.274&lng=57.369&zoom=9&time=2019-08-20&preset=CUSTOM&datasource=Sentinel-2%20L1C&layers=B01,B02,B03&evalscript=LyoKIlNlbGVjdGl2ZSBFbmhhbmNlbWVudCBiYXNlZCBvbiBJbmRpY2VzIgpJbnRlcmFjdGl2ZSBlbmhhbmNlbWVudCBtYXNrcyBmb3IgYWxlcm5hdGUgc2VsZWN0aW9uIG9mIExhbmQgeCBXYXRlci9Tbm93L1ZlZ2V0YXRpb24sIGJhc2VkIG9uIE5EV0ksIE5EU0kgYW5kIE5EVkkgSW5kaWNlcywgZm9yIFNlbnRpbmVsLTIgCihzZWUgSW5kaWNlcyBhdCAgaHR0cHM6Ly9jdXN0b20tc2NyaXB0cy5zZW50aW5lbC1odWIuY29tLyNzZW50aW5lbC0yKQpCeSBT6XJnaW8gQS4gSi4gVm9sa21lciAoaHR0cHM6Ly90d2l0dGVyLmNvbS9zZXJnaW9hanYxKSAqIENDIEJZIDQuMCBJbnRlcm5hdGlvbmFsIC0gaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzQuMC8KUmVmZXJlbmNlczogClNlbGVjdGl2ZSB0cmVhdG1lbnQgbG9naWNzIGJhc2VkIG9uIFNpbW9uIEdhc2NvaW4ncyAiQmV0dGVyIHNub3cgdmlzdWFsaXNhdGlvbiB1c2luZyBORFNJIiAtIGh0dHBzOi8vd3d3LnNlbnRpbmVsLWh1Yi5jb20vY29udGVzdApFbmhhbmNlbWVudCBmdW5jdGlvbnMgYmFzZWQgb24gUGllcnJlIE1hcmt1c2UncyAiV2lsZGZpcmUgdmlzdWFsaXphdGlvbiIgLSBodHRwczovL2N1c3RvbS1zY3JpcHRzLnNlbnRpbmVsLWh1Yi5jb20vc2VudGluZWwtMi9tYXJrdXNlX2ZpcmUvCk5PVEVTIGZvciBiZWdnaW5lcnMgKGF1dGhvciB0b28pOiBUcnkgdG8gY2hhbmdlIHZhbHVlcyBhIGJpdCB0byBmaXQgYmV0dGVyIGZvciBkaWZmZXJlbnQgc2l0dWF0aW9uczsgc2VlIGNvbW1lbnRzIGFmdGVyICIvLyIgaWYgaXQgaGVscHMuIAoqLwovLyBFTkhBTkNFTUVOVCBGVU5DVElPTlM6CmZ1bmN0aW9uIGEoYSwgYikge3JldHVybiBhICsgYn07Ci8vIEZVTkNUSU9OIEZPUiBDT05UUkFTVDoKZnVuY3Rpb24gc3RyZXRjaCh2YWwsIG1pbiwgbWF4KSB7cmV0dXJuICh2YWwgLSBtaW4pIC8gKG1heCAtIG1pbik7fSAKLy8gRlVOQ1RJT04gRk9SIFNBVFVSQVRJT04gKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6CmZ1bmN0aW9uIHNhdEVuaF9WKHJnYkFycikgewogICAgdmFyIGF2ZyA9IHJnYkFyci5yZWR1Y2UoKGEsIGIpID0%2BIGEgKyBiLCAwKSAvIHJnYkFyci5sZW5ndGg7CiAgICByZXR1cm4gcmdiQXJyLm1hcChhID0%2BIGF2ZyAqICgxIC0gU0FUVV9WKSArIGEgKiBTQVRVX1YpOyB9CQpmdW5jdGlvbiBzYXRFbmhfSShyZ2JBcnIpIHsKICAgIHZhciBhdmcgPSByZ2JBcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyByZ2JBcnIubGVuZ3RoOwogICAgcmV0dXJuIHJnYkFyci5tYXAoYSA9PiBhdmcgKiAoMSAtIFNBVFVfSSkgKyBhICogU0FUVV9JKTsgfSAKLy8gRlVOQ1RJT04gQ09OVFJBU1QgKyBTQVRVUkFUSU9OIChmb3IgVmVyc2UgYW5kIEludmVyc2UsIHNlcGFyYXRlbHkpOgpmdW5jdGlvbiBhcHBseUVuaF9WKGJBcnIpIHsKCXJldHVybiBzYXRFbmhfVihbc3RyZXRjaChiQXJyWzBdLCBTbWluViwgU21heFYpLCBzdHJldGNoKGJBcnJbMV0sIFNtaW5WLCBTbWF4ViksIHN0cmV0Y2goYkFyclsyXSwgU21pblYsIFNtYXhWKV0pOyB9CmZ1bmN0aW9uIGFwcGx5RW5oX0koYkFycikgewoJcmV0dXJuIHNhdEVuaF9JKFtzdHJldGNoKGJBcnJbMF0sIFNtaW5JLCBTbWF4SSksIHN0cmV0Y2goYkFyclsxXSwgU21pbkksIFNtYXhJKSwgc3RyZXRjaChiQXJyWzJdLCBTbWluSSwgU21heEkpXSk7IH0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gKlNFVFRJTkdTIEhFUkUqOiBTZWxlY3QgYWRqdXN0bWVudHMgKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6Ci8vIFNUUkVUQ0ggQ09OVFJBU1QgKG1pbi9tYXg6IFNoYWRvdy9MaWdodDsgZGVmYXVsdD0wLjAwLzEuMDA7IGJsYWNrb3V0LW1hc2sgPSAxLDEpOiAvLyBUSVA6IGF2b2lkIHRvbyBkaWZmZXJlbnQgY29udHJhc3QgZm9yIG1hc2tzCnZhciBTbWluViA9IC0wLjEwIDsgLy8gU2hhZG93czogRGFya2VuIDogPjAgOyBMaWdodGVuIDwwCnZhciBTbWF4ViA9IDQuMDAgOyAvLyBMaWdodHM6ICBEYXJrZW4gOiA%2BMSA7IExpZ2h0ZW4gPDEKdmFyIFNtaW5JID0gMC4xNSA7IC8vIFNoYWRvd3M6IERhcmtlbiA6ID4wIDsgTGlnaHRlbiA8MAp2YXIgU21heEkgPSAxLjA1IDsgLy8gTGlnaHRzOiAgRGFya2VuIDogPjEgOyBMaWdodGVuIDwxCi8vIFNBVFVSQVRJT046CnZhciBTQVRVX1YgPSAxLjUwIDsgLy8gc3RhbmRhcmQ9MS4wMDsgbW9ub2Nocm9tYXRpYz0wOyAyeD0yLjAwCnZhciBTQVRVX0kgPSAxLjIwIDsgLy8gc3RhbmRhcmQ9MS4wMDsgbW9ub2Nocm9tYXRpYz0wOyAyeD0yLjAwCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIElOREVYOiBjaG9vc2UgIm9ubHkgb25lIiBhcyBTRUxFQ1RJT04gTUFTSyAoYWN0aXZhdGUgaXQgcmVtb3ZpbmcgZmlyc3QgY29tbWVudCBvdXQgIi8vIjsgZGVmYXVsdD1ORFdJMik6CnZhciBORFNJID0gKEIwMy1CMTEpLyhCMDMrQjExKTsgIC8vIERpc2NyaW1pbmF0ZXMgV0FURVImU05PVyB4IE5PTi1XQVRFUjogc3RhbmRhcmQgU05PVyB%2BID4gMC40MgovL3ZhciBORFZJID0gKEIwOC1CMDQpLyhCMDgrQjA0KTsgIC8vIERpc2NyaW1pbmF0ZXMgVkVHRVRBVElPTiB4IE5PTi1WRUc6IH4gV2F0ZXI8MCBTb2lsLFNhbmQsU25vdyxDbG91ZHM9LS4xLCsuMSBMb3dWZWc9LjIsLjQgRGVuc2VWZWc%2BLjQKLy92YXIgTkRXSTIgPSAoQjAzLUIwOCkvKEIwMytCMDgpOyAvLyBEaXNjcmltaW5hdGVzIFdBVEVSIHggTk9OLVdBVEVSOiBzdGFuZGFyZCBXQVRFUiBsaW1pdCB%2BID4gMC4zCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIEJBTkQgQ09NUE9TVElPTlM6IFtSRUQsIEdSRUVOLCBCTFVFXTsgKG1vcmUgY3VzdG9taXNlZCBjb21wb3N0aW9ucyBjYW4gYmUgYWRkZWQgdG8gbGlzdCBiZWxvdykgLy8gRW5oYW5jZW1lbnQgZGVzY3JpcHRpb246Ci8vIFByb3Bvc2VkIGZvciBWRVJTRSBNQVNLIChXYXRlci9ORFdJLCBWZWdldGF0aW9uL05EVkksIFNub3cvTkRTSSk6CnZhciBOQVRVUkFMX1JFREdFID0gWyhCMDQqMy45KSwgKEIwMyozLjUrQjA2KjAuNSksIChCMDIqMy41KV07IC8vIE5lYXIgTmF0dXJhbDsgdHVyYmlkaXR5IGFuZCBhbGdhZSBSZWRFZGdlCnZhciBGQUxTRUNPTE9SX05JUiA9IFsoQjA4KjIuMyksIChCMDMqMS4wK0IwNSoyLjApLCAoQjAyKjIuNyldOyAvLyBCbHVpc2ggd2F0ZXIgTklSOyBhbGdhZSBSZWRFZGdlCi8vIFByb3Bvc2VkIGZvciBJTlZFUlNFIE1BU0sgKExBTkQpOgp2YXIgTkFUVVJBTF9OSVIgPSBbKEIwNCozLjArQjA1KjEuMCksIChCMDMqMy4wK0IwOCoxLjApLCAoQjAyKjMuNSldIDsgLy8gTmVhciBOYXR1cmFsOyBWZWdldGF0aW9uIE5JUiAKdmFyIE5BVFVSQUxfU1dJUiA9IFsoQjA0KjMuNitCMTIqMC44KSwgKEIwMyoyLjUrQjA4KjEuNSksIChCMDIqMy4wKV0gOyAvLyBCYXJlIHNvaWwgU1dJUjsgVmVnZXRhdGlvbiBOSVIKdmFyIEdFT0xPR1lfU1dJUiA9IFsoQjEyKjIuMiksIChCMDQqMS40K0IwOCoxLjApLCAoQjAyKjIuNSldIDsgLy8gR2VvbG9neSBTV0lSOyBWZWdldGF0aW9uIE5JUgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBTRVQgQkFORCBDT01QT1NUSU9OUyAoZm9yIGVhY2ggbWFzazsgbWF5IHVzZSBzYW1lIENPTVBPIGZvciBib3RoLCBvciBzd2l0Y2ggZWFjaCBvdGhlciwgYWNjb3JkaW5nIHRvIG5lY2Vzc2l0eSk6IAp2YXIgTWFza1ZFUlNFICAgPSBOQVRVUkFMX1JFREdFIDsgLy8gQ29weSBjb21wb3NpdGlvbiBoZXJlCnZhciBNYXNrSU5WRVJTRSA9IE5BVFVSQUxfU1dJUiA7ICAvLyBDb3B5IGNvbXBvc2l0aW9uIGhlcmUKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KdmFyIEVuaFZFUlNFICAgPSBhcHBseUVuaF9WKE1hc2tWRVJTRSkgIDsgLy8gRG9uJ3QgY2hhbmdlIHRoaXMKdmFyIEVuaElOVkVSU0UgPSBhcHBseUVuaF9JKE1hc2tJTlZFUlNFKTsgLy8gRG9uJ3QgY2hhbmdlIHRoaXMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gUkVUVVJOcyBvbiBzY3JlZW4gc2VsZWN0ZWQgRU5IQU5DRU1FTlQsIGFjY29yZGluZyB0byBJTkRFWEVTIGZyb20gYWJvdmUgYW5kIGl0cyBsaW1pdCB2YWx1ZXMgYmVsb3cgKHVzZSAib25seSBvbmUiIGJlbG93OyBkZWZhdWx0IE5EV0kyKToKcmV0dXJuICggTkRTSSA%2BIDAuNDIgKSA%2FIEVuaFZFUlNFIDogRW5oSU5WRVJTRSA7IC8vIEZvciBTTk9XWSBhcmVhcyBvbmx5Ci8vcmV0dXJuICggTkRWSSA%2BIDAuNCApID8gRW5oVkVSU0UgOiBFbmhJTlZFUlNFIDsgLy8gRm9yIFZFR0VUQVRJT04gYXJlYXMgb25seQovL3JldHVybiAoIE5EV0kyID4gMC4xICkgPyBFbmhWRVJTRSA6IEVuaElOVkVSU0UgOyAvLyBMQU5EIHggV0FURVI6IGxpbWl0IGxvd2VyZWQgdG8gdGFrZSBjbG91ZHMgdy8gd2F0ZXIKLy8%3D)</sub>  
  
![Selective Enhancement script over RUSSIA, Severny Island](/fig/4.png)
  
  
<sub>**5) Visualization of ITALY, Golfo di Venezia 2019-11-10:**  
**LEFT:** Using selection as an artistic blackout mask to enhance water turbidity alone;  
**RIGHT:** True Color with much less differentiation of clear water and turbidity.  
[See it in EO-Browser](https://apps.sentinel-hub.com/eo-browser/?lat=45.2019&lng=12.3837&zoom=10&time=2019-11-10&preset=CUSTOM&datasource=Sentinel-2%20L1C&layers=B01,B02,B03&evalscript=LyoKIlNlbGVjdGl2ZSBFbmhhbmNlbWVudCBiYXNlZCBvbiBJbmRpY2VzIgpJbnRlcmFjdGl2ZSBlbmhhbmNlbWVudCBtYXNrcyBmb3IgYWxlcm5hdGUgc2VsZWN0aW9uIG9mIExhbmQgeCBXYXRlci9Tbm93L1ZlZ2V0YXRpb24sIGJhc2VkIG9uIE5EV0ksIE5EU0kgYW5kIE5EVkkgSW5kaWNlcywgZm9yIFNlbnRpbmVsLTIgCihzZWUgSW5kaWNlcyBhdCAgaHR0cHM6Ly9jdXN0b20tc2NyaXB0cy5zZW50aW5lbC1odWIuY29tLyNzZW50aW5lbC0yKQpCeSBT6XJnaW8gQS4gSi4gVm9sa21lciAoaHR0cHM6Ly90d2l0dGVyLmNvbS9zZXJnaW9hanYxKSAqIENDIEJZIDQuMCBJbnRlcm5hdGlvbmFsIC0gaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzQuMC8KUmVmZXJlbmNlczogClNlbGVjdGl2ZSB0cmVhdG1lbnQgbG9naWNzIGJhc2VkIG9uIFNpbW9uIEdhc2NvaW4ncyAiQmV0dGVyIHNub3cgdmlzdWFsaXNhdGlvbiB1c2luZyBORFNJIiAtIGh0dHBzOi8vd3d3LnNlbnRpbmVsLWh1Yi5jb20vY29udGVzdApFbmhhbmNlbWVudCBmdW5jdGlvbnMgYmFzZWQgb24gUGllcnJlIE1hcmt1c2UncyAiV2lsZGZpcmUgdmlzdWFsaXphdGlvbiIgLSBodHRwczovL2N1c3RvbS1zY3JpcHRzLnNlbnRpbmVsLWh1Yi5jb20vc2VudGluZWwtMi9tYXJrdXNlX2ZpcmUvCk5PVEVTIGZvciBiZWdnaW5lcnMgKGF1dGhvciB0b28pOiBUcnkgdG8gY2hhbmdlIHZhbHVlcyBhIGJpdCB0byBmaXQgYmV0dGVyIGZvciBkaWZmZXJlbnQgc2l0dWF0aW9uczsgc2VlIGNvbW1lbnRzIGFmdGVyICIvLyIgaWYgaXQgaGVscHMuIAoqLwovLyBFTkhBTkNFTUVOVCBGVU5DVElPTlM6CmZ1bmN0aW9uIGEoYSwgYikge3JldHVybiBhICsgYn07Ci8vIEZVTkNUSU9OIEZPUiBDT05UUkFTVDoKZnVuY3Rpb24gc3RyZXRjaCh2YWwsIG1pbiwgbWF4KSB7cmV0dXJuICh2YWwgLSBtaW4pIC8gKG1heCAtIG1pbik7fSAKLy8gRlVOQ1RJT04gRk9SIFNBVFVSQVRJT04gKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6CmZ1bmN0aW9uIHNhdEVuaF9WKHJnYkFycikgewogICAgdmFyIGF2ZyA9IHJnYkFyci5yZWR1Y2UoKGEsIGIpID0%2BIGEgKyBiLCAwKSAvIHJnYkFyci5sZW5ndGg7CiAgICByZXR1cm4gcmdiQXJyLm1hcChhID0%2BIGF2ZyAqICgxIC0gU0FUVV9WKSArIGEgKiBTQVRVX1YpOyB9CQpmdW5jdGlvbiBzYXRFbmhfSShyZ2JBcnIpIHsKICAgIHZhciBhdmcgPSByZ2JBcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyByZ2JBcnIubGVuZ3RoOwogICAgcmV0dXJuIHJnYkFyci5tYXAoYSA9PiBhdmcgKiAoMSAtIFNBVFVfSSkgKyBhICogU0FUVV9JKTsgfSAKLy8gRlVOQ1RJT04gQ09OVFJBU1QgKyBTQVRVUkFUSU9OIChmb3IgVmVyc2UgYW5kIEludmVyc2UsIHNlcGFyYXRlbHkpOgpmdW5jdGlvbiBhcHBseUVuaF9WKGJBcnIpIHsKCXJldHVybiBzYXRFbmhfVihbc3RyZXRjaChiQXJyWzBdLCBTbWluViwgU21heFYpLCBzdHJldGNoKGJBcnJbMV0sIFNtaW5WLCBTbWF4ViksIHN0cmV0Y2goYkFyclsyXSwgU21pblYsIFNtYXhWKV0pOyB9CmZ1bmN0aW9uIGFwcGx5RW5oX0koYkFycikgewoJcmV0dXJuIHNhdEVuaF9JKFtzdHJldGNoKGJBcnJbMF0sIFNtaW5JLCBTbWF4SSksIHN0cmV0Y2goYkFyclsxXSwgU21pbkksIFNtYXhJKSwgc3RyZXRjaChiQXJyWzJdLCBTbWluSSwgU21heEkpXSk7IH0KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gKlNFVFRJTkdTIEhFUkUqOiBTZWxlY3QgYWRqdXN0bWVudHMgKGZvciBWZXJzZSBhbmQgSW52ZXJzZSwgc2VwYXJhdGVseSk6Ci8vIFNUUkVUQ0ggQ09OVFJBU1QgKG1pbi9tYXg6IFNoYWRvdy9MaWdodDsgZGVmYXVsdD0wLjAwLzEuMDA7IGJsYWNrb3V0LW1hc2sgPSAxLDEpOiAvLyBUSVA6IGF2b2lkIHRvbyBkaWZmZXJlbnQgY29udHJhc3QgZm9yIG1hc2tzCnZhciBTbWluViA9IDAuMTUgOyAvLyBTaGFkb3dzOiBEYXJrZW4gOiA%2BMCA7IExpZ2h0ZW4gPDAKdmFyIFNtYXhWID0gMC43NSA7IC8vIExpZ2h0czogIERhcmtlbiA6ID4xIDsgTGlnaHRlbiA8MQp2YXIgU21pbkkgPSAxLjAwIDsgLy8gU2hhZG93czogRGFya2VuIDogPjAgOyBMaWdodGVuIDwwCnZhciBTbWF4SSA9IDEuMDAgOyAvLyBMaWdodHM6ICBEYXJrZW4gOiA%2BMSA7IExpZ2h0ZW4gPDEKLy8gU0FUVVJBVElPTjoKdmFyIFNBVFVfViA9IDEuMTAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKdmFyIFNBVFVfSSA9IDEuMTAgOyAvLyBzdGFuZGFyZD0xLjAwOyBtb25vY2hyb21hdGljPTA7IDJ4PTIuMDAKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gSU5ERVg6IGNob29zZSAib25seSBvbmUiIGFzIFNFTEVDVElPTiBNQVNLIChhY3RpdmF0ZSBpdCByZW1vdmluZyBmaXJzdCBjb21tZW50IG91dCAiLy8iOyBkZWZhdWx0PU5EV0kyKToKLy92YXIgTkRTSSA9IChCMDMtQjExKS8oQjAzK0IxMSk7ICAvLyBEaXNjcmltaW5hdGVzIFdBVEVSJlNOT1cgeCBOT04tV0FURVI6IHN0YW5kYXJkIFNOT1cgfiA%2BIDAuNDIKLy92YXIgTkRWSSA9IChCMDgtQjA0KS8oQjA4K0IwNCk7ICAvLyBEaXNjcmltaW5hdGVzIFZFR0VUQVRJT04geCBOT04tVkVHOiB%2BIFdhdGVyPDAgU29pbCxTYW5kLFNub3csQ2xvdWRzPS0uMSwrLjEgTG93VmVnPS4yLC40IERlbnNlVmVnPi40CnZhciBORFdJMiA9IChCMDMtQjA4KS8oQjAzK0IwOCk7IC8vIERpc2NyaW1pbmF0ZXMgV0FURVIgeCBOT04tV0FURVI6IHN0YW5kYXJkIFdBVEVSIGxpbWl0IH4gPiAwLjMKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gQkFORCBDT01QT1NUSU9OUzogW1JFRCwgR1JFRU4sIEJMVUVdOyAobW9yZSBjdXN0b21pc2VkIGNvbXBvc3Rpb25zIGNhbiBiZSBhZGRlZCB0byBsaXN0IGJlbG93KSAvLyBFbmhhbmNlbWVudCBkZXNjcmlwdGlvbjoKLy8gUHJvcG9zZWQgZm9yIFZFUlNFIE1BU0sgKFdhdGVyL05EV0ksIFZlZ2V0YXRpb24vTkRWSSwgU25vdy9ORFNJKToKdmFyIE5BVFVSQUxfUkVER0UgPSBbKEIwNCo0LjgpLCAoQjAzKjMuNytCMDcqMi4zKSwgKEIwMiozLjMpXTsgLy8gTmVhciBOYXR1cmFsOyB0dXJiaWRpdHkgYW5kIGFsZ2FlIFJlZEVkZ2UKLy92YXIgRkFMU0VDT0xPUl9OSVIgPSBbKEIwOCoyLjMpLCAoQjAzKjEuMCtCMDUqMi4wKSwgKEIwMioyLjcpXTsgLy8gQmx1aXNoIHdhdGVyIE5JUjsgYWxnYWUgUmVkRWRnZQovLyBQcm9wb3NlZCBmb3IgSU5WRVJTRSBNQVNLIChMQU5EKToKdmFyIE5BVFVSQUxfTklSID0gWyhCMDQqMy4wK0IwNSoxLjApLCAoQjAzKjMuMitCMDgqMi4wKSwgKEIwMiozLjMpXSA7IC8vIE5lYXIgTmF0dXJhbDsgVmVnZXRhdGlvbiBOSVIgCi8vdmFyIE5BVFVSQUxfU1dJUiA9IFsoQjA0KjIuNitCMTIqMC44KSwgKEIwMyozLjArQjA4KjAuNSksIChCMDIqMy4wKV0gOyAvLyBCYXJlIHNvaWwgU1dJUjsgVmVnZXRhdGlvbiBOSVIKLy92YXIgR0VPTE9HWV9TV0lSID0gWyhCMTIqMi4yKSwgKEIwNCoxLjQrQjA4KjEuMCksIChCMDIqMi41KV0gOyAvLyBHZW9sb2d5IFNXSVI7IFZlZ2V0YXRpb24gTklSCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFNFVCBCQU5EIENPTVBPU1RJT05TIChmb3IgZWFjaCBtYXNrOyBtYXkgdXNlIHNhbWUgQ09NUE8gZm9yIGJvdGgsIG9yIHN3aXRjaCBlYWNoIG90aGVyLCBhY2NvcmRpbmcgdG8gbmVjZXNzaXR5KTogCnZhciBNYXNrVkVSU0UgICA9IE5BVFVSQUxfUkVER0UgOyAvLyBDb3B5IGNvbXBvc2l0aW9uIGhlcmUKdmFyIE1hc2tJTlZFUlNFID0gTkFUVVJBTF9OSVIgOyAgLy8gQ29weSBjb21wb3NpdGlvbiBoZXJlCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnZhciBFbmhWRVJTRSAgID0gYXBwbHlFbmhfVihNYXNrVkVSU0UpICA7IC8vIERvbid0IGNoYW5nZSB0aGlzCnZhciBFbmhJTlZFUlNFID0gYXBwbHlFbmhfSShNYXNrSU5WRVJTRSk7IC8vIERvbid0IGNoYW5nZSB0aGlzCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIFJFVFVSTnMgb24gc2NyZWVuIHNlbGVjdGVkIEVOSEFOQ0VNRU5ULCBhY2NvcmRpbmcgdG8gSU5ERVhFUyBmcm9tIGFib3ZlIGFuZCBpdHMgbGltaXQgdmFsdWVzIGJlbG93ICh1c2UgIm9ubHkgb25lIiBiZWxvdzsgZGVmYXVsdCBORFdJMik6Ci8vcmV0dXJuICggTkRTSSA%2BIDAuMzIgKSA%2FIEVuaFZFUlNFIDogRW5oSU5WRVJTRSA7IC8vIEZvciBTTk9XWSBhcmVhcyBvbmx5Ci8vcmV0dXJuICggTkRWSSA%2BIDAuNCApID8gRW5oVkVSU0UgOiBFbmhJTlZFUlNFIDsgLy8gRm9yIFZFR0VUQVRJT04gYXJlYXMgb25seQpyZXR1cm4gKCBORFdJMiA%2BIDAuMyApID8gRW5oVkVSU0UgOiBFbmhJTlZFUlNFIDsgLy8gTEFORCB4IFdBVEVSOiBsaW1pdCBsb3dlcmVkIHRvIHRha2UgY2xvdWRzIHcvIHdhdGVyCi8v)</sub>  
  
![Selective Enhancement script over ITALY, Golfo di Venezia](/fig/5.png)
  
## References
  
<sub>For limit values of Indices:  
NDSI:  (B03-B11)/(B03+B11) > 0.42 for snow areas and glaciers : https://custom-scripts.sentinel-hub.com/sentinel-2/ndsi/  
NDVI:  (B08-B04)/(B08+B04) > 0.2 for grass, shrub; > 0.4  dense forest : https://en.wikipedia.org/wiki/Normalized_difference_vegetation_index  
NDWI2: (B03-B08)/(B03+B08) > 0.3  for water bodies : https://en.wikipedia.org/wiki/Normalized_difference_water_index</sub>  
  
## Credits
<sub>-Selective treatment logics based on Simon Gascoin's "Better snow visualisation using NDSI" - https://www.sentinel-hub.com/contest  
-Enhancement functions based on Pierre Markuse's "Wildfire visualization" - https://custom-scripts.sentinel-hub.com/sentinel-2/markuse_fire/</sub>  
